<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE MOVIES HUNT</title>
    <link rel="stylesheet" href="/style.css">
    <!--poppind font============-->
    
<link href="https://fonts.googleapis.com/css2?family=Poppins:ita,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet" >

<style> 
/* Your styles remain the same */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'poppins', sans-serif;
}

body {
    margin: 0;
    padding: 0;
    background: #080808;
}

ul {
    list-style: none;
    color: white;
}

.menu {
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: #111111f1;
    z-index: 102;

    display: none;
    justify-content: center;
    align-items: center;
    animation: fade 0.3s;
}

.menu-btn:checked~.menu {
    display: flex;
    animation: fade 0.3s;
}

@keyframes fade {
    0% {
        opacity: 0;
    }

    100% {
        opacity: 1;
    }
}



.menu li a {
    text-decoration: none;
    font-size: 2em;
    color: white;
    margin: 0px 40px;
    transition: all ease 0.3s;
    font-family: 'Monoton', sans-serif;

}

.menu li a:hover {
    font-size: 2.3em;
    color: #e70634;
    transition: all ease 0.3s;

}


.navigation {
  display: flex;
    align-items: center;
    padding: 30px 50px;
    margin: auto;
    max-width: 1400px;
    margin: auto;
    width: 100%;
    background: black;

}

.navigation .menu-icon {
    float: right;
    cursor: pointer;
    padding: 20px 10px;
    z-index: 103;

}

/* <!menu icon====--------->-- */
.navigation .menu-icon .nav-icon {
    background-color: white;
    display: block;
    height: 2px;
    width: 25px;
    position: relative;
    transition: background 0.2s ease-out;

}

.navigation .menu-icon .nav-icon::before,
.navigation .menu-icon .nav-icon::after {

    background-color: white;
    content: '';
    display: block;
    height: 100%;
    width: 100%;
    position: absolute;

    transition: all 0.2s ease-out;
}

.navigation .menu-icon .nav-icon::before {
    top: 8px;

}

.navigation .menu-icon .nav-icon::after {
    top: -8px;
}

.navigation .menu-btn:checked~.menu-icon .nav-icon {
    background-color: transparent;

}

.navigation .menu-btn:checked~.menu-icon .nav-icon::before {
    transform: rotate(-45deg);
    top: 0;

}

.navigation .menu-btn:checked~.menu-icon .nav-icon::after {
    transform: rotate(45deg);
    top: 0;

}

.logo {
    text-decoration: none;
    color: #e70634;
    font-size: 3em;
    font-family: 'Monoton', sans-serif;
}

.logo span {
    font-size: 0.7rem;
    margin-left: .5px;
    letter-spacing: 2px;
    font-weight: 700;
    color: #e70634;
}

.navigation main {
    background: #d1d1d111;
    padding: 3px 20px;
    border-radius: 20px;
    height: 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    right: 20px;
    position: absolute;

}

#search-bar {
    color: white;
    background: none;
    align-items: center;
    outline: none;
    border: none;
}

#search-bar::placeholder {
    color: white;
}


#search-button {
    cursor: pointer;
    background: transparent;
    border: none;
    outline: none;
    color: white;

}

#search-results {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    margin: 20px;
    gap: 20px;
}
.show-movie{
    justify-content: space-between;
}

.movie-info {
    box-sizing: border-box;
    width: 300px;
    border-radius: 8px;
    height: 450px;
    background-color: white;
    padding: 10px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s;
    cursor: pointer;
    overflow: hidden;
}

.movie-info:hover {
    transform: scale(1.05);
}</style>
<!--Monoton font================-->

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Monoton&display=swap" rel="stylesheet">
<!--font aswesome===============0-->
<script src="https://kit.fontawesome.com/6da42f356a.js" crossorigin="anonymous"></script>
</head>

<body>
    <!--navigation===================-->
    <nav class="navigation">
        <input style="display:none ;" type="checkbox" class="menu-btn" id="menu-btn">
        <label for="menu-btn" class="menu-icon">
            <span class="nav-icon"></span>
        </label>
        <a href="index.html" class="logo">The MOvIEs<span>hunt.com</span></a>
        <ul class="menu">
            <li>
                <a href="">

                    HOME
                </a>
            </li>
            <li>
                <a href="">
                    YEAR

                </a>
            </li>
            <li>
                <a href="">
                    GENRE

                </a>
            </li>
            <li>
                <a href="">
                    MOVIES
                </a>
            </li>
        </ul>
        <main>
            <input type="text" placeholder="Search Movies" id="search-bar" required >
            <button id="search-button"><i class="fas fa-search"></i></button>
        </main>

    </nav>
    <div class="show-movie">

        <div id="search-results"></div>
        <!-- Movie details will be displayed here -->
        <main id="movie-details" style="display: none;">
        </main>
    </div>


    <script src="/script.js">

    
document.getElementById("search-bar").addEventListener("input", debounce(searchMovies, 500));
document.getElementById("search-button").addEventListener("click", searchMovies);

function searchMovies() {
    var searchTerm = document.getElementById("search-bar").value;
    if (searchTerm.trim() === "") {
        document.getElementById("search-results").innerHTML = "";
        return;
    }

    var apiKey = '587b4d33'; // Replace with your actual API key
    var apiUrl = `http://www.omdbapi.com/?apikey=${apiKey}&s=${searchTerm}`;

    fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            if (data.Response === "True") {
                displaySearchResults(data.Search);
            } else {
                document.getElementById("search-results").innerHTML = "<p>No results found</p>";
            }
        })
        .catch(error => console.error('Error fetching data:', error));
}

function displaySearchResults(results) {
    var searchResultsDiv = document.getElementById("search-results");
    searchResultsDiv.innerHTML = "";

    results.forEach(movie => {
        var movieInfoDiv = document.createElement("div");
        movieInfoDiv.className = "movie-info";

        var imageElement = document.createElement("img");
        imageElement.src = movie.Poster;
        imageElement.alt = movie.Title;
        imageElement.style.width = "100%";
        imageElement.style.height = "100%";
        imageElement.style.margin = "0px";

        var titleElement = document.createElement("p");
        titleElement.textContent = movie.Title;
        titleElement.style.textAlign= "center";

        movieInfoDiv.appendChild(imageElement);
        movieInfoDiv.appendChild(titleElement);

        movieInfoDiv.addEventListener("click", function () {
            // Redirect to next.html with movie details as a query parameter
            var movieId = encodeURIComponent(movie.imdbID);
            window.location.href = `next.html?movieId=${movieId}`;
        });

        searchResultsDiv.appendChild(movieInfoDiv);
    });
}

function showMovieDetails(movieId) {
    var apiKey = '587b4d33'; // Replace with your actual API key
    var apiUrl = `http://www.omdbapi.com/?apikey=${apiKey}&i=${movieId}`;

    fetch(apiUrl)
        .then(response => response.json())
        .then(movieDetails => {
            // Display movie details in the #movie-details-container element
            var movieDetailsContainer = document.getElementById("movie-details-container");

            var titleElement = document.createElement("h2");
            titleElement.textContent = movieDetails.Title;

            var imageElement = document.createElement("img");
            imageElement.src = movieDetails.Poster;
            imageElement.alt = movieDetails.Title;

            var plotElement = document.createElement("p");
            plotElement.textContent = movieDetails.Plot;

            movieDetailsContainer.appendChild(titleElement);
            movieDetailsContainer.appendChild(imageElement);
            movieDetailsContainer.appendChild(plotElement);
        })
        .catch(error => console.error('Error fetching movie details:', error));
}

// Debounce function to limit API requests while typing
function debounce(func, delay) {
    var timeout;
    return function () {
        clearTimeout(timeout);
        timeout = setTimeout(func, delay);
    };
    }
    </script>
   
    
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    
</body>

</html>
